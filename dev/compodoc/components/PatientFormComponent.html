<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>Application documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
        <link rel="stylesheet" href="../styles/material.css">
    </head>
    <body>
          <script>
               // Blocking script to avoid flickering dark mode
               // Dark mode toggle button
               var useDark = window.matchMedia('(prefers-color-scheme: dark)');
               var darkModeState = useDark.matches;
               var $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               var $darkModeToggles = document.querySelectorAll('.dark-mode-switch');
               var darkModeStateLocal = localStorage.getItem('compodoc_darkmode-state');

               function checkToggle(check) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].checked = check;
                    }
               }

               function toggleDarkMode(state) {
                    if (window.localStorage) {
                         localStorage.setItem('compodoc_darkmode-state', state);
                    }

                    checkToggle(state);

                    const hasClass = document.body.classList.contains('dark');

                    if (state) {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.add('dark');
                         }
                         if (!hasClass) {
                              document.body.classList.add('dark');
                         }
                    } else {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.remove('dark');
                         }
                         if (hasClass) {
                              document.body.classList.remove('dark');
                         }
                    }
               }

               useDark.addEventListener('change', function (evt) {
                    toggleDarkMode(evt.matches);
               });
               if (darkModeStateLocal) {
                    darkModeState = darkModeStateLocal === 'true';
               }
               toggleDarkMode(darkModeState);
          </script>

        <div class="navbar navbar-default navbar-fixed-top d-md-none p-0">
               <div class="d-flex">
                    <a href="../" class="navbar-brand">Application documentation</a>
                    <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
               </div>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="d-none d-md-block menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content component">
                   <div class="content-data">




<ol class="breadcrumb">
  <li class="breadcrumb-item">Components</li>
  <li class="breadcrumb-item"
  >
  PatientFormComponent</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="nav-item">
            <a href="#info" class="nav-link active"
                role="tab" id="info-tab" data-bs-toggle="tab" data-link="info">Info</a>
        </li>
        <li class="nav-item">
            <a href="#source" class="nav-link"
                role="tab" id="source-tab" data-bs-toggle="tab" data-link="source">Source</a>
        </li>
        <li class="nav-item">
            <a href="#templateData" class="nav-link"
                role="tab" id="templateData-tab" data-bs-toggle="tab" data-link="template">Template</a>
        </li>
        <li class="nav-item">
            <a href="#tree" class="nav-link"
                role="tab" id="tree-tab" data-bs-toggle="tab" data-link="dom-tree">DOM Tree</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="info"><p class="comment">
    <h3>File</h3>
</p>
<p class="comment">
    <code>/home/runner/work/onconova/onconova/client/src/app/features/forms/patient-case-form/patient-case-form.component.ts</code>
</p>



    <p class="comment">
        <h3>Extends</h3>
    </p>
    <p class="comment">
                    <code><a href="../components/AbstractFormBase.html" target="_self" >AbstractFormBase</a></code>
    </p>



<section data-compodoc="block-metadata">
    <h3>Metadata</h3>
    <table class="table table-sm table-hover metadata">
        <tbody>












            <tr>
                <td class="col-md-3">selector</td>
                <td class="col-md-9"><code>patient-form</code></td>
            </tr>


            <tr>
                <td class="col-md-3">imports</td>
                <td class="col-md-9">
                            <code>CommonModule</code>
                            <code>FormsModule</code>
                            <code>InlineSVGModule</code>
                            <code>ReactiveFormsModule</code>
                                <code><a href="../components/ConceptSelectorComponent.html" target="_self" >ConceptSelectorComponent</a></code>
                                <code><a href="../components/DatePickerComponent.html" target="_self" >DatePickerComponent</a></code>
                            <code>AutoCompleteModule</code>
                            <code>InputTextModule</code>
                            <code>StepperModule</code>
                            <code>ButtonModule</code>
                            <code>ToggleSwitch</code>
                            <code>Fluid</code>
                            <code>SelectButton</code>
                </td>
            </tr>




            <tr>
                <td class="col-md-3">templateUrl</td>
                <td class="col-md-9"><code>./patient-case-form.component.html</code></td>
            </tr>








        </tbody>
    </table>
</section>

    <section data-compodoc="block-index">
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Readonly</span>
                                    <span class="modifier">Private</span>
                                <a href="##caseService" >#caseService</a>
                            </li>
                            <li>
                                    <span class="modifier">Readonly</span>
                                    <span class="modifier">Private</span>
                                <a href="##fb" >#fb</a>
                            </li>
                            <li>
                                    <span class="modifier">Readonly</span>
                                    <span class="modifier">Private</span>
                                <a href="##onInitialDataChangeEffect" >#onInitialDataChangeEffect</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="##vitalStatusChangesEffect" >#vitalStatusChangesEffect</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                    <span class="modifier">Readonly</span>
                                <a href="#centerIllustration" >centerIllustration</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#clinicalCenterQuery" >clinicalCenterQuery</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#clinicalCenters" >clinicalCenters</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                    <span class="modifier">Readonly</span>
                                <a href="#consentIllustration" >consentIllustration</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                    <span class="modifier">Readonly</span>
                                <a href="#consentStatusOptions" >consentStatusOptions</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                    <span class="modifier">Readonly</span>
                                <a href="#createService" >createService</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#currentVitalStatus" >currentVitalStatus</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#form" >form</a>
                            </li>
                            <li>
                                <a href="#initialData" >initialData</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#payload" >payload</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                    <span class="modifier">Readonly</span>
                                <a href="#updateService" >updateService</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                    <span class="modifier">Readonly</span>
                                <a href="#vitalStatusOptions" >vitalStatusOptions</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="##dynamicDialogRef" >#dynamicDialogRef</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="##messageService" >#messageService</a>
                            </li>
                            <li>
                                <a href="#caseId" >caseId</a>
                            </li>
                            <li>
                                <a href="#isSaving" >isSaving</a>
                            </li>
                            <li>
                                <a href="#resourceId" >resourceId</a>
                            </li>
                            <li>
                                <a href="#subformsServices" >subformsServices</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Abstract</span>
                                <a href="#createService" >createService</a>
                            </li>
                            <li>
                                    <span class="modifier">Abstract</span>
                                <a href="#payload" >payload</a>
                            </li>
                            <li>
                                <a href="#submitFormData" >submitFormData</a>
                            </li>
                            <li>
                                    <span class="modifier">Abstract</span>
                                <a href="#updateService" >updateService</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Inputs</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#initialData" >initialData</a>
                            </li>
                            <li>
                                <a href="#caseId" >caseId</a>
                            </li>
                            <li>
                                <a href="#resourceId" >resourceId</a>
                            </li>
                        </ul>
                    </td>
                </tr>




        </tbody>
    </table>
</section>


    <section data-compodoc="block-inputs">
    <h3 id="inputs">Inputs</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="initialData"></a>
                        <b>initialData</b>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4" colspan="2">
                                    <div class="io-line">Inherited from         <code><a href="../components/AbstractFormBase.html" target="_self" >AbstractFormBase</a></code>
</div>
                                </td>
                            </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in         <code><a href="../components/AbstractFormBase.html#source" target="_self" >AbstractFormBase:47</a></code>
</div>
                            </td>
                        </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="caseId"></a>
                        <b>caseId</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>InputSignal&lt;string&gt;</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Required : </i>&nbsp;<b>true</b>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4" colspan="2">
                                    <div class="io-line">Inherited from         <code><a href="../components/AbstractFormBase.html" target="_self" >AbstractFormBase</a></code>
</div>
                                </td>
                            </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in         <code><a href="../components/AbstractFormBase.html#source" target="_self" >AbstractFormBase:26</a></code>
</div>
                            </td>
                        </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="resourceId"></a>
                        <b>resourceId</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>InputSignal&lt;string | undefined&gt;</code>

                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4" colspan="2">
                                    <div class="io-line">Inherited from         <code><a href="../components/AbstractFormBase.html" target="_self" >AbstractFormBase</a></code>
</div>
                                </td>
                            </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in         <code><a href="../components/AbstractFormBase.html#source" target="_self" >AbstractFormBase:27</a></code>
</div>
                            </td>
                        </tr>
            </tbody>
        </table>
</section>



    <section data-compodoc="block-methods">
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="createService"></a>
                    <span class="name">
                            <span class="modifier">Abstract</span>
                        <span ><b>createService</b></span>
                        <a href="#createService"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>createService(payload: <a href="../interfaces/ResourceCreate.html" target="_self">ResourceCreate</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Inherited from         <code><a href="../components/AbstractFormBase.html" target="_self" >AbstractFormBase</a></code>
</div>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in         <code><a href="../components/AbstractFormBase.html#source" target="_self" >AbstractFormBase:39</a></code>
</div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>payload</td>
                                            <td>
                                                            <code><a href="../interfaces/ResourceCreate.html" target="_self" >ResourceCreate</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="payload"></a>
                    <span class="name">
                            <span class="modifier">Abstract</span>
                        <span ><b>payload</b></span>
                        <a href="#payload"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>payload(data?: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Inherited from         <code><a href="../components/AbstractFormBase.html" target="_self" >AbstractFormBase</a></code>
</div>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in         <code><a href="../components/AbstractFormBase.html#source" target="_self" >AbstractFormBase:41</a></code>
</div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>data</td>
                                            <td>
                                                            <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                            </td>

                                            <td>
                                                    Yes
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="submitFormData"></a>
                    <span class="name">
                        <span ><b>submitFormData</b></span>
                        <a href="#submitFormData"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>submitFormData()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Inherited from         <code><a href="../components/AbstractFormBase.html" target="_self" >AbstractFormBase</a></code>
</div>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in         <code><a href="../components/AbstractFormBase.html#source" target="_self" >AbstractFormBase:43</a></code>
</div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateService"></a>
                    <span class="name">
                            <span class="modifier">Abstract</span>
                        <span ><b>updateService</b></span>
                        <a href="#updateService"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>updateService(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, payload: <a href="../interfaces/ResourceCreate.html" target="_self">ResourceCreate</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Inherited from         <code><a href="../components/AbstractFormBase.html" target="_self" >AbstractFormBase</a></code>
</div>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in         <code><a href="../components/AbstractFormBase.html#source" target="_self" >AbstractFormBase:40</a></code>
</div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>id</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>payload</td>
                                            <td>
                                                            <code><a href="../interfaces/ResourceCreate.html" target="_self" >ResourceCreate</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
    <section data-compodoc="block-properties">
    
    <h3 id="inputs">
        Properties
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="#caseService"></a>
                    <span class="name">
                            <span class="modifier">Readonly</span>
                            <span class="modifier">Private</span>
                        <span ><b>#caseService</b></span>
                        <a href="##caseService"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>inject(PatientCasesService)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="50" class="link-to-prism">/home/runner/work/onconova/onconova/client/src/app/features/forms/patient-case-form/patient-case-form.component.ts:50</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="#fb"></a>
                    <span class="name">
                            <span class="modifier">Readonly</span>
                            <span class="modifier">Private</span>
                        <span ><b>#fb</b></span>
                        <a href="##fb"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>inject(FormBuilder)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="51" class="link-to-prism">/home/runner/work/onconova/onconova/client/src/app/features/forms/patient-case-form/patient-case-form.component.ts:51</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="#onInitialDataChangeEffect"></a>
                    <span class="name">
                            <span class="modifier">Readonly</span>
                            <span class="modifier">Private</span>
                        <span ><b>#onInitialDataChangeEffect</b></span>
                        <a href="##onInitialDataChangeEffect"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>effect((): void &#x3D;&gt; {
    const data &#x3D; this.initialData();
    if (!data) return;
    this.form.patchValue({
      identification: {
        clinicalCenter: data.clinicalCenter ?? environment.organizationName,
        clinicalIdentifier: data.clinicalIdentifier ?? null,
      },
      general: {
        gender: data.gender ?? null,
        dateOfBirth: typeof data.dateOfBirth &#x3D;&#x3D;&#x3D; &#x27;string&#x27; ? data.dateOfBirth as string : data.dateOfBirth as string  ?? null,
        vitalStatus: data.vitalStatus,
        dateOfDeath: data.dateOfDeath ?? null,
        causeOfDeath: data.causeOfDeath ?? null,
        endOfRecords: data.endOfRecords ?? null,
      },
      consent: {
        consentCheck: false,
        consentStatus: data.consentStatus,
      },
    });
  })</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="81" class="link-to-prism">/home/runner/work/onconova/onconova/client/src/app/features/forms/patient-case-form/patient-case-form.component.ts:81</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="#vitalStatusChangesEffect"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>#vitalStatusChangesEffect</b></span>
                        <a href="##vitalStatusChangesEffect"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>effect(() &#x3D;&gt; {
    const dateOfDeathControl &#x3D; this.form.get(&#x27;general&#x27;)!.get(&#x27;dateOfDeath&#x27;);
    const causeOfDeathControl &#x3D; this.form.get(&#x27;general&#x27;)!.get(&#x27;causeOfDeath&#x27;);
    const endOfRecordsControl &#x3D; this.form.get(&#x27;general&#x27;)!.get(&#x27;endOfRecords&#x27;);
    if (this.currentVitalStatus() &#x3D;&#x3D; PatientCaseVitalStatusChoices.Alive) {
      dateOfDeathControl?.removeValidators([Validators.required]);
      causeOfDeathControl?.removeValidators([Validators.required]);
      endOfRecordsControl?.removeValidators([Validators.required]);
    } else if (this.currentVitalStatus() &#x3D;&#x3D; PatientCaseVitalStatusChoices.Deceased) {
      dateOfDeathControl?.addValidators([Validators.required]);
      causeOfDeathControl?.addValidators([Validators.required]);
      endOfRecordsControl?.removeValidators([Validators.required]);
    } else if (this.currentVitalStatus() &#x3D;&#x3D; PatientCaseVitalStatusChoices.Unknown) {
      dateOfDeathControl?.removeValidators([Validators.required]);
      causeOfDeathControl?.removeValidators([Validators.required]);
      endOfRecordsControl?.addValidators([Validators.required]);
    }
    dateOfDeathControl?.updateValueAndValidity();
    causeOfDeathControl?.updateValueAndValidity();
    endOfRecordsControl?.updateValueAndValidity();
  })</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="128" class="link-to-prism">/home/runner/work/onconova/onconova/client/src/app/features/forms/patient-case-form/patient-case-form.component.ts:128</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="centerIllustration"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                            <span class="modifier">Readonly</span>
                        <span ><b>centerIllustration</b></span>
                        <a href="#centerIllustration"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&#x27;assets/images/accessioning/hospital.svg&#x27;</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="58" class="link-to-prism">/home/runner/work/onconova/onconova/client/src/app/features/forms/patient-case-form/patient-case-form.component.ts:58</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="clinicalCenterQuery"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>clinicalCenterQuery</b></span>
                        <a href="#clinicalCenterQuery"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>signal&lt;string&gt;(&#x27;&#x27;)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="120" class="link-to-prism">/home/runner/work/onconova/onconova/client/src/app/features/forms/patient-case-form/patient-case-form.component.ts:120</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="clinicalCenters"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>clinicalCenters</b></span>
                        <a href="#clinicalCenters"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>rxResource({
    request: () &#x3D;&gt; ({query: this.clinicalCenterQuery()}),
    loader: ({request}) &#x3D;&gt; this.#caseService.getClinicalCenters(request)
  })</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="121" class="link-to-prism">/home/runner/work/onconova/onconova/client/src/app/features/forms/patient-case-form/patient-case-form.component.ts:121</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="consentIllustration"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                            <span class="modifier">Readonly</span>
                        <span ><b>consentIllustration</b></span>
                        <a href="#consentIllustration"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&#x27;assets/images/accessioning/consent.svg&#x27;</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="59" class="link-to-prism">/home/runner/work/onconova/onconova/client/src/app/features/forms/patient-case-form/patient-case-form.component.ts:59</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="consentStatusOptions"></a>
                    <span class="name">
                            <span class="modifier">Protected</span>
                            <span class="modifier">Readonly</span>
                        <span ><b>consentStatusOptions</b></span>
                        <a href="#consentStatusOptions"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[
    {label: &#x27;Valid&#x27;, value: PatientCaseConsentStatusChoices.Valid},
    {label: &#x27;Revoked&#x27;, value: PatientCaseConsentStatusChoices.Revoked},
    {label: &#x27;Unknown&#x27;, value: PatientCaseConsentStatusChoices.Unknown},
  ]</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="150" class="link-to-prism">/home/runner/work/onconova/onconova/client/src/app/features/forms/patient-case-form/patient-case-form.component.ts:150</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="createService"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                            <span class="modifier">Readonly</span>
                        <span ><b>createService</b></span>
                        <a href="#createService"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>() &#x3D;&gt; {...}</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="54" class="link-to-prism">/home/runner/work/onconova/onconova/client/src/app/features/forms/patient-case-form/patient-case-form.component.ts:54</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="currentVitalStatus"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>currentVitalStatus</b></span>
                        <a href="#currentVitalStatus"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>toSignal(this.form.controls[&#x27;general&#x27;]!.controls[&#x27;vitalStatus&#x27;]!.valueChanges)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="127" class="link-to-prism">/home/runner/work/onconova/onconova/client/src/app/features/forms/patient-case-form/patient-case-form.component.ts:127</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="form"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>form</b></span>
                        <a href="#form"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>this.#fb.group({
    identification: this.#fb.nonNullable.group({
      clinicalCenter: this.#fb.control&lt;string | null&gt;(environment.organizationName, Validators.required),
      clinicalIdentifier: this.#fb.control&lt;string | null&gt;(null, Validators.required),
    }),
    general: this.#fb.nonNullable.group({
      gender: this.#fb.control&lt;CodedConcept | null&gt;(null, Validators.required),
      dateOfBirth: this.#fb.control&lt;string | null&gt;(null, Validators.required),
      vitalStatus: this.#fb.control&lt;PatientCaseVitalStatusChoices | null&gt;(PatientCaseVitalStatusChoices.Alive, Validators.required),
      dateOfDeath: this.#fb.control&lt;string | null&gt;(null),
      causeOfDeath: this.#fb.control&lt;CodedConcept | null&gt;(null),
      endOfRecords: this.#fb.control&lt;string | null&gt;(null),
    }),
    consent: this.#fb.nonNullable.group({
      consentCheck: this.#fb.control&lt;boolean | null&gt;(false, Validators.required),
      consentStatus: this.#fb.control&lt;PatientCaseConsentStatusChoices | null&gt;(null, Validators.required),
    }),
  })</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="62" class="link-to-prism">/home/runner/work/onconova/onconova/client/src/app/features/forms/patient-case-form/patient-case-form.component.ts:62</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="initialData"></a>
                    <span class="name">
                        <span ><b>initialData</b></span>
                        <a href="#initialData"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Inherited from         <code><a href="../components/AbstractFormBase.html" target="_self" >AbstractFormBase</a></code>
</div>
                            </td>
                        </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in         <code><a href="../components/AbstractFormBase.html#source" target="_self" >AbstractFormBase:47</a></code>
</div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="payload"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>payload</b></span>
                        <a href="#payload"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>() &#x3D;&gt; {...}</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="105" class="link-to-prism">/home/runner/work/onconova/onconova/client/src/app/features/forms/patient-case-form/patient-case-form.component.ts:105</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateService"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                            <span class="modifier">Readonly</span>
                        <span ><b>updateService</b></span>
                        <a href="#updateService"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>() &#x3D;&gt; {...}</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="55" class="link-to-prism">/home/runner/work/onconova/onconova/client/src/app/features/forms/patient-case-form/patient-case-form.component.ts:55</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="vitalStatusOptions"></a>
                    <span class="name">
                            <span class="modifier">Protected</span>
                            <span class="modifier">Readonly</span>
                        <span ><b>vitalStatusOptions</b></span>
                        <a href="#vitalStatusOptions"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[
    {label: &#x27;Alive&#x27;, value: PatientCaseVitalStatusChoices.Alive},
    {label: &#x27;Deceased&#x27;, value: PatientCaseVitalStatusChoices.Deceased},
    {label: &#x27;Unknown&#x27;, value: PatientCaseVitalStatusChoices.Unknown},
  ]</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="155" class="link-to-prism">/home/runner/work/onconova/onconova/client/src/app/features/forms/patient-case-form/patient-case-form.component.ts:155</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="#dynamicDialogRef"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>#dynamicDialogRef</b></span>
                        <a href="##dynamicDialogRef"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>inject(DynamicDialogRef)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Inherited from         <code><a href="../components/AbstractFormBase.html" target="_self" >AbstractFormBase</a></code>
</div>
                            </td>
                        </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in         <code><a href="../components/AbstractFormBase.html#source" target="_self" >AbstractFormBase:23</a></code>
</div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="#messageService"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>#messageService</b></span>
                        <a href="##messageService"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>inject(MessageService)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Inherited from         <code><a href="../components/AbstractFormBase.html" target="_self" >AbstractFormBase</a></code>
</div>
                            </td>
                        </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in         <code><a href="../components/AbstractFormBase.html#source" target="_self" >AbstractFormBase:24</a></code>
</div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="caseId"></a>
                    <span class="name">
                        <span ><b>caseId</b></span>
                        <a href="#caseId"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>InputSignal&lt;string&gt;</code>

                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Inherited from         <code><a href="../components/AbstractFormBase.html" target="_self" >AbstractFormBase</a></code>
</div>
                            </td>
                        </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in         <code><a href="../components/AbstractFormBase.html#source" target="_self" >AbstractFormBase:26</a></code>
</div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isSaving"></a>
                    <span class="name">
                        <span ><b>isSaving</b></span>
                        <a href="#isSaving"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>WritableSignal&lt;boolean&gt;</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>signal(false)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Inherited from         <code><a href="../components/AbstractFormBase.html" target="_self" >AbstractFormBase</a></code>
</div>
                            </td>
                        </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in         <code><a href="../components/AbstractFormBase.html#source" target="_self" >AbstractFormBase:28</a></code>
</div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="resourceId"></a>
                    <span class="name">
                        <span ><b>resourceId</b></span>
                        <a href="#resourceId"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>InputSignal&lt;string | undefined&gt;</code>

                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Inherited from         <code><a href="../components/AbstractFormBase.html" target="_self" >AbstractFormBase</a></code>
</div>
                            </td>
                        </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in         <code><a href="../components/AbstractFormBase.html#source" target="_self" >AbstractFormBase:27</a></code>
</div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="subformsServices"></a>
                    <span class="name">
                        <span ><b>subformsServices</b></span>
                        <a href="#subformsServices"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>literal type[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Inherited from         <code><a href="../components/AbstractFormBase.html" target="_self" >AbstractFormBase</a></code>
</div>
                            </td>
                        </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in         <code><a href="../components/AbstractFormBase.html#source" target="_self" >AbstractFormBase:29</a></code>
</div>
                        </td>
                    </tr>


        </tbody>
    </table>
</section>

</div>


    <div class="tab-pane fade  tab-source-code" id="source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Component, computed, effect, inject, input, signal } from &#x27;@angular/core&#x27;;
import { CommonModule } from &#x27;@angular/common&#x27;;
import { PatientCaseCreate, PatientCasesService, PatientCaseConsentStatusChoices, PatientCase, CodedConcept, PatientCaseVitalStatusChoices } from &#x27;onconova-api-client&#x27;
import { FormsModule, ReactiveFormsModule, FormBuilder, Validators } from &#x27;@angular/forms&#x27;;
import { rxResource, toSignal } from &#x27;@angular/core/rxjs-interop&#x27;;
import { map } from &#x27;rxjs&#x27;;

import { InlineSVGModule } from &#x27;ng-inline-svg-2&#x27;;

import { ButtonModule } from &#x27;primeng/button&#x27;;
import { ToggleSwitch } from &#x27;primeng/toggleswitch&#x27;;
import { Fluid } from &#x27;primeng/fluid&#x27;;
import { StepperModule } from &#x27;primeng/stepper&#x27;;
import { InputTextModule } from &#x27;primeng/inputtext&#x27;;
import { AutoCompleteModule } from &#x27;primeng/autocomplete&#x27;;
import { environment } from &#x27;src/environments/environment&#x27;;

import { AbstractFormBase } from &#x27;../abstract-form-base.component&#x27;;
import { 
  ConceptSelectorComponent, 
  DatePickerComponent,
} from &#x27;../../../shared/components&#x27;;
import { SelectButton } from &quot;primeng/selectbutton&quot;;

@Component({
    selector: &#x27;patient-form&#x27;,
    templateUrl: &#x27;./patient-case-form.component.html&#x27;,
    imports: [
    CommonModule,
    FormsModule,
    InlineSVGModule,
    ReactiveFormsModule,
    ConceptSelectorComponent,
    DatePickerComponent,
    AutoCompleteModule,
    InputTextModule,
    StepperModule,
    ButtonModule,
    ToggleSwitch,
    Fluid,
    SelectButton
]
})
export class PatientFormComponent extends AbstractFormBase {

  // Input signal for initial data passed to the form
  initialData &#x3D; input&lt;PatientCase&gt;();

  // Service injections
  readonly #caseService &#x3D; inject(PatientCasesService);
  readonly #fb &#x3D; inject(FormBuilder);

  // Create and update service methods for the form data
  public readonly createService &#x3D; (payload: PatientCaseCreate) &#x3D;&gt; this.#caseService.createPatientCase({patientCaseCreate: payload});
  public readonly updateService &#x3D; (id: string, payload: PatientCaseCreate) &#x3D;&gt; this.#caseService.updatePatientCaseById({caseId: id, patientCaseCreate: payload});

  // Path to illustrations
  public readonly centerIllustration &#x3D; &#x27;assets/images/accessioning/hospital.svg&#x27;;
  public readonly consentIllustration &#x3D; &#x27;assets/images/accessioning/consent.svg&#x27;;

  // Define the form
  public form &#x3D; this.#fb.group({
    identification: this.#fb.nonNullable.group({
      clinicalCenter: this.#fb.control&lt;string | null&gt;(environment.organizationName, Validators.required),
      clinicalIdentifier: this.#fb.control&lt;string | null&gt;(null, Validators.required),
    }),
    general: this.#fb.nonNullable.group({
      gender: this.#fb.control&lt;CodedConcept | null&gt;(null, Validators.required),
      dateOfBirth: this.#fb.control&lt;string | null&gt;(null, Validators.required),
      vitalStatus: this.#fb.control&lt;PatientCaseVitalStatusChoices | null&gt;(PatientCaseVitalStatusChoices.Alive, Validators.required),
      dateOfDeath: this.#fb.control&lt;string | null&gt;(null),
      causeOfDeath: this.#fb.control&lt;CodedConcept | null&gt;(null),
      endOfRecords: this.#fb.control&lt;string | null&gt;(null),
    }),
    consent: this.#fb.nonNullable.group({
      consentCheck: this.#fb.control&lt;boolean | null&gt;(false, Validators.required),
      consentStatus: this.#fb.control&lt;PatientCaseConsentStatusChoices | null&gt;(null, Validators.required),
    }),
  });

  readonly #onInitialDataChangeEffect &#x3D; effect((): void &#x3D;&gt; {
    const data &#x3D; this.initialData();
    if (!data) return;
    this.form.patchValue({
      identification: {
        clinicalCenter: data.clinicalCenter ?? environment.organizationName,
        clinicalIdentifier: data.clinicalIdentifier ?? null,
      },
      general: {
        gender: data.gender ?? null,
        dateOfBirth: typeof data.dateOfBirth &#x3D;&#x3D;&#x3D; &#x27;string&#x27; ? data.dateOfBirth as string : data.dateOfBirth as string  ?? null,
        vitalStatus: data.vitalStatus,
        dateOfDeath: data.dateOfDeath ?? null,
        causeOfDeath: data.causeOfDeath ?? null,
        endOfRecords: data.endOfRecords ?? null,
      },
      consent: {
        consentCheck: false,
        consentStatus: data.consentStatus,
      },
    });
  });

  // API Payload construction function
  public payload &#x3D; (): PatientCaseCreate &#x3D;&gt; {
    const data &#x3D; this.form.value;
    return {
      gender: data.general!.gender!,
      dateOfBirth: data.general!.dateOfBirth! as string,
      vitalStatus: data.general!.vitalStatus!,
      endOfRecords: data.general!.vitalStatus &#x3D;&#x3D; PatientCaseVitalStatusChoices.Unknown ? data.general!.endOfRecords! : undefined,
      dateOfDeath: data.general!.vitalStatus &#x3D;&#x3D; PatientCaseVitalStatusChoices.Deceased ? data.general!.dateOfDeath! : undefined,
      causeOfDeath: data.general!.vitalStatus &#x3D;&#x3D; PatientCaseVitalStatusChoices.Deceased ? data.general!.causeOfDeath!: undefined,
      clinicalCenter: data.identification!.clinicalCenter!,
      clinicalIdentifier: data.identification!.clinicalIdentifier!,
      consentStatus: data.consent!.consentStatus!,
    };
  }
  // Dynamically react to changes to the clinical center input query and search for matching centers
  public clinicalCenterQuery &#x3D; signal&lt;string&gt;(&#x27;&#x27;);
  public clinicalCenters &#x3D; rxResource({
    request: () &#x3D;&gt; ({query: this.clinicalCenterQuery()}),
    loader: ({request}) &#x3D;&gt; this.#caseService.getClinicalCenters(request)
  })

  // Dynamically react to changes to the isAlive field
  public currentVitalStatus &#x3D; toSignal(this.form.controls[&#x27;general&#x27;]!.controls[&#x27;vitalStatus&#x27;]!.valueChanges)
  #vitalStatusChangesEffect &#x3D; effect(() &#x3D;&gt; {
    const dateOfDeathControl &#x3D; this.form.get(&#x27;general&#x27;)!.get(&#x27;dateOfDeath&#x27;);
    const causeOfDeathControl &#x3D; this.form.get(&#x27;general&#x27;)!.get(&#x27;causeOfDeath&#x27;);
    const endOfRecordsControl &#x3D; this.form.get(&#x27;general&#x27;)!.get(&#x27;endOfRecords&#x27;);
    if (this.currentVitalStatus() &#x3D;&#x3D; PatientCaseVitalStatusChoices.Alive) {
      dateOfDeathControl?.removeValidators([Validators.required]);
      causeOfDeathControl?.removeValidators([Validators.required]);
      endOfRecordsControl?.removeValidators([Validators.required]);
    } else if (this.currentVitalStatus() &#x3D;&#x3D; PatientCaseVitalStatusChoices.Deceased) {
      dateOfDeathControl?.addValidators([Validators.required]);
      causeOfDeathControl?.addValidators([Validators.required]);
      endOfRecordsControl?.removeValidators([Validators.required]);
    } else if (this.currentVitalStatus() &#x3D;&#x3D; PatientCaseVitalStatusChoices.Unknown) {
      dateOfDeathControl?.removeValidators([Validators.required]);
      causeOfDeathControl?.removeValidators([Validators.required]);
      endOfRecordsControl?.addValidators([Validators.required]);
    }
    dateOfDeathControl?.updateValueAndValidity();
    causeOfDeathControl?.updateValueAndValidity();
    endOfRecordsControl?.updateValueAndValidity();
  })

  protected readonly consentStatusOptions &#x3D; [
    {label: &#x27;Valid&#x27;, value: PatientCaseConsentStatusChoices.Valid},
    {label: &#x27;Revoked&#x27;, value: PatientCaseConsentStatusChoices.Revoked},
    {label: &#x27;Unknown&#x27;, value: PatientCaseConsentStatusChoices.Unknown},
  ]
  protected readonly vitalStatusOptions &#x3D; [
    {label: &#x27;Alive&#x27;, value: PatientCaseVitalStatusChoices.Alive},
    {label: &#x27;Deceased&#x27;, value: PatientCaseVitalStatusChoices.Deceased},
    {label: &#x27;Unknown&#x27;, value: PatientCaseVitalStatusChoices.Unknown},
  ]
}</code></pre>
    </div>

    <div class="tab-pane fade " id="templateData">
        <pre class="line-numbers"><code class="language-html">&lt;p-fluid&gt;
    &lt;form  [formGroup]&#x3D;&quot;form&quot; (ngSubmit)&#x3D;&quot;submitFormData()&quot; style&#x3D;&quot;min-width: 35vw;&quot; &gt;

        &lt;div class&#x3D;&quot;p-1&quot;&gt;
            &lt;p-stepper [value]&#x3D;&quot;1&quot; [linear]&#x3D;&quot;true&quot;&gt;

                &lt;p-step-item [value]&#x3D;&quot;1&quot;&gt;
                    &lt;p-step&gt;Clinical Identification&lt;/p-step&gt;
                    &lt;p-step-panel&gt;
                        &lt;ng-template #content let-activateCallback&#x3D;&quot;activateCallback&quot;&gt;
                            &lt;div class&#x3D;&quot;flex&quot;&gt;
                                &lt;div [inlineSVG]&#x3D;&quot;centerIllustration&quot; class&#x3D;&quot;onconova-svg-illustration mr-3 h-15rem&quot;&gt;&lt;/div&gt;
                                &lt;div class&#x3D;&quot;flex flex-column my-auto&quot; formGroupName&#x3D;&quot;identification&quot;&gt;
                                    &lt;div class&#x3D;&quot;field&quot;&gt;
                                        &lt;label class&#x3D;&quot;form-label required&quot;&gt;Clinical center&lt;/label&gt;
                                        &lt;p-autocomplete 
                                            placeholder&#x3D;&quot;Enter a center&quot; 
                                            formControlName&#x3D;&quot;clinicalCenter&quot;  
                                            [suggestions]&#x3D;&quot;clinicalCenters.value() || []&quot; 
                                            (completeMethod)&#x3D;&quot;clinicalCenterQuery.set($event.query)&quot; /&gt;
                                        &lt;div&gt;&lt;small class&#x3D;&quot;text-muted&quot;&gt;The name of the center where the patient&#x27;s record originated from.&lt;/small&gt;&lt;/div&gt;
                                    &lt;/div&gt;
                            
                                    &lt;div class&#x3D;&quot;field&quot;&gt;
                                        &lt;label class&#x3D;&quot;form-label required&quot;&gt;Clinical identifier&lt;/label&gt;
                                        &lt;input pInputText placeholder&#x3D;&quot;Enter a value&quot; formControlName&#x3D;&quot;clinicalIdentifier&quot; /&gt;
                                        &lt;div&gt;&lt;small class&#x3D;&quot;text-muted&quot;&gt;The clinical identifier unique for a given patient at a clinical center. Usually the clinical information system&#x27;s identifier.&lt;/small&gt;&lt;/div&gt;

                                    &lt;/div&gt;
                                &lt;/div&gt;
                            &lt;/div&gt;
                            &lt;div class&#x3D;&quot;py-3&quot;&gt;
                                &lt;p-button label&#x3D;&quot;Next&quot; (onClick)&#x3D;&quot;activateCallback(2)&quot; [disabled]&#x3D;&quot;!form.get(&#x27;identification&#x27;)?.valid&quot;/&gt;
                            &lt;/div&gt;
                        &lt;/ng-template&gt;
                    &lt;/p-step-panel&gt;
                &lt;/p-step-item&gt;

                &lt;p-step-item [value]&#x3D;&quot;2&quot;&gt;
                    &lt;p-step&gt;Patient Information&lt;/p-step&gt;
                    &lt;p-step-panel&gt;
                        &lt;ng-template #content let-activateCallback&#x3D;&quot;activateCallback&quot;&gt;
                            &lt;div class&#x3D;&quot;flex flex-column&quot; formGroupName&#x3D;&quot;general&quot;&gt;

                                &lt;div class&#x3D;&quot;field flex flex-column&quot;&gt;
                                    &lt;label class&#x3D;&quot;form-label required&quot;&gt;Gender&lt;/label&gt;
                                    &lt;onconova-concept-selector 
                                        terminology&#x3D;&quot;AdministrativeGender&quot;
                                        widget&#x3D;&quot;selectbutton&quot;
                                        formControlName&#x3D;&quot;gender&quot;/&gt;
                                &lt;/div&gt;
                        
                                &lt;div class&#x3D;&quot;field&quot;&gt;
                                    &lt;label for&#x3D;&quot;date-of-birth&quot; class&#x3D;&quot;form-label required&quot;&gt;Date of Birth&lt;/label&gt;
                                    &lt;onconova-datepicker 
                                        formControlName&#x3D;&quot;dateOfBirth&quot;
                                        view&#x3D;&quot;month&quot; 
                                        dateFormat&#x3D;&quot;mm/yy&quot; 
                                        placeholder&#x3D;&quot;MM/YYYY&quot; 
                                    /&gt;
                                    &lt;small id&#x3D;&quot;dateOfBirth-help&quot;&gt;For de-identification, only the month and year are used.  &lt;/small&gt;
                                &lt;/div&gt;
                        
                                &lt;div class&#x3D;&quot;field flex flex-column&quot;&gt;
                                    &lt;label class&#x3D;&quot;form-label required&quot;&gt;Vital Status&lt;/label&gt;
                                    &lt;p-selectbutton [options]&#x3D;&quot;vitalStatusOptions&quot; formControlName&#x3D;&quot;vitalStatus&quot; optionLabel&#x3D;&quot;label&quot; optionValue&#x3D;&quot;value&quot; /&gt;
                                &lt;/div&gt;
                                
                                @if (form.value.general!.vitalStatus &#x3D;&#x3D; &#x27;deceased&#x27;) {
                                    &lt;div class&#x3D;&quot;field&quot;&gt;
                                        &lt;label class&#x3D;&quot;form-label required&quot;&gt;Date of Death&lt;/label&gt;
                                        &lt;onconova-datepicker 
                                            formControlName&#x3D;&quot;dateOfDeath&quot;
                                            view&#x3D;&quot;month&quot; 
                                            dateFormat&#x3D;&quot;mm/yy&quot; 
                                            placeholder&#x3D;&quot;MM/YYYY&quot; 
                                            /&gt;
                                    &lt;/div&gt;
                            
                                    &lt;div class&#x3D;&quot;field&quot;&gt;
                                        &lt;label class&#x3D;&quot;form-label&quot;&gt;Cause of death&lt;/label&gt;
                                        &lt;onconova-concept-selector 
                                            terminology&#x3D;&quot;CauseOfDeath&quot;
                                            [showSynonyms]&#x3D;&quot;false&quot;
                                            formControlName&#x3D;&quot;causeOfDeath&quot;/&gt;
                                    &lt;/div&gt;
                                }
                                @if (form.value.general!.vitalStatus &#x3D;&#x3D; &#x27;unknown&#x27;) {
                                    &lt;div class&#x3D;&quot;field&quot;&gt;
                                        &lt;label class&#x3D;&quot;form-label required&quot;&gt;End of records&lt;/label&gt;
                                        &lt;onconova-datepicker 
                                            formControlName&#x3D;&quot;endOfRecords&quot;
                                            view&#x3D;&quot;month&quot; 
                                            dateFormat&#x3D;&quot;mm/yy&quot; 
                                            placeholder&#x3D;&quot;MM/YYYY&quot; 
                                            /&gt;
                                        &lt;div&gt;&lt;small class&#x3D;&quot;text-muted&quot;&gt;The month and year of the last known data entry or document available for the patient.&lt;/small&gt;&lt;/div&gt;
                                    &lt;/div&gt;

                                }
                            &lt;/div&gt;
                            &lt;div class&#x3D;&quot;flex py-3 gap-3&quot;&gt;
                                &lt;p-button label&#x3D;&quot;Back&quot; severity&#x3D;&quot;secondary&quot; icon&#x3D;&quot;pi pi-arrow-left&quot; (onClick)&#x3D;&quot;activateCallback(1)&quot; /&gt;
                                &lt;p-button label&#x3D;&quot;Next&quot; (onClick)&#x3D;&quot;activateCallback(3)&quot; [disabled]&#x3D;&quot;!form.get(&#x27;general&#x27;)?.valid&quot; class&#x3D;&quot;flex-grow-1&quot;/&gt;
                            &lt;/div&gt;
                        &lt;/ng-template&gt;
                    &lt;/p-step-panel&gt;
                &lt;/p-step-item&gt;

                &lt;p-step-item [value]&#x3D;&quot;3&quot;&gt;
                    &lt;p-step&gt;Consent&lt;/p-step&gt;
                    &lt;p-step-panel&gt;
                        &lt;ng-template #content let-activateCallback&#x3D;&quot;activateCallback&quot;&gt;
                            &lt;div formGroupName&#x3D;&quot;consent&quot;&gt;
                                &lt;div class&#x3D;&quot;flex&quot;&gt;
                                    &lt;div [inlineSVG]&#x3D;&quot;consentIllustration&quot; class&#x3D;&quot;onconova-svg-illustration mr-3 h-15rem&quot;&gt;&lt;/div&gt;
                                    &lt;div class&#x3D;&quot;flex flex-column my-auto&quot;&gt;
                                        &lt;p&gt;Have you checked for consent/permission?&lt;/p&gt;
                                        &lt;small class&#x3D;&quot;text-muted&quot;&gt;
                                        A patient&#x27;s case may only be included in Onconova if the patient has provided explicit informed consent 
                                        (e.g., through a signed general consent) or if the managing researcher has obtained authorization from the appropriate regulatory 
                                        or ethics governance bodies to access and utilize the data in accordance with applicable legal and ethical standards.&lt;/small&gt;
                                    &lt;/div&gt;
                                &lt;/div&gt;


                                &lt;div class&#x3D;&quot;field flex flex-column&quot;&gt;
                                    &lt;label class&#x3D;&quot;form-label required&quot;&gt;Consent Status&lt;/label&gt;
                                    &lt;p-selectbutton [options]&#x3D;&quot;consentStatusOptions&quot; formControlName&#x3D;&quot;consentStatus&quot; optionLabel&#x3D;&quot;label&quot; optionValue&#x3D;&quot;value&quot; /&gt;
                                &lt;/div&gt;

                                &lt;div class&#x3D;&quot;field flex mt-4&quot; &gt;
                                    &lt;p-toggleswitch formControlName&#x3D;&quot;consentCheck&quot; /&gt;
                                    &lt;label class&#x3D;&quot;form-label ml-2 my-auto required&quot;&gt;
                                        I hereby confirm that I am accurately recording this patients consent status for the use of their clinical data in research, 
                                        and that I am doing so in compliance with all applicable laws, regulations, and institutional policies.&lt;/label&gt;
                                &lt;/div&gt;

                                &lt;div class&#x3D;&quot;flex py-3 gap-3&quot;&gt;
                                    &lt;p-button label&#x3D;&quot;Back&quot; severity&#x3D;&quot;secondary&quot; icon&#x3D;&quot;pi pi-arrow-left&quot; (onClick)&#x3D;&quot;activateCallback(2)&quot; /&gt;
                                    &lt;p-button label&#x3D;&quot;Next&quot; (onClick)&#x3D;&quot;activateCallback(4)&quot; [disabled]&#x3D;&quot;!form.value.consent!.consentCheck&quot; class&#x3D;&quot;flex-grow-1&quot;/&gt;
                                &lt;/div&gt;
                            &lt;/div&gt;
                        &lt;/ng-template&gt;
                    &lt;/p-step-panel&gt;
                &lt;/p-step-item&gt;

                &lt;p-step-item [value]&#x3D;&quot;4&quot;&gt;
                    &lt;p-step&gt;Submit&lt;/p-step&gt;
                    &lt;p-step-panel&gt;
                        &lt;ng-template #content let-activateCallback&#x3D;&quot;activateCallback&quot;&gt;
                            &lt;h4&gt;Almost done!&lt;/h4&gt;
                            &lt;div class&#x3D;&quot;&quot;&gt;
                                Please check that the patient&#x27;s information is correct:
                                &lt;div class&#x3D;&quot;flex flex-column gap-2 ml-3 mt-3 pl-2&quot; style&#x3D;&quot;border-left: solid 4px var(--p-primary-500);&quot;&gt;
                                    &lt;div&gt;&lt;b&gt;Clinical Center:&lt;/b&gt; {{form.value.identification!.clinicalCenter}}&lt;/div&gt;
                                    &lt;div&gt;&lt;b&gt;Clinical Identifier:&lt;/b&gt; {{form.value.identification!.clinicalIdentifier}}&lt;/div&gt;
                                    &lt;div&gt;&lt;b&gt;Gender&lt;/b&gt;: {{form.value.general!.gender?.display}}&lt;/div&gt;
                                    &lt;div&gt;&lt;b&gt;Date of birth&lt;/b&gt;: {{form.value.general!.dateOfBirth | date:&#x27;MMM, y&#x27;}}&lt;/div&gt;
                                    &lt;div&gt;&lt;b&gt;Vital status&lt;/b&gt;: {{form.value.general!.vitalStatus}}&lt;/div&gt;
                                    @if (form.value.general!.vitalStatus &#x3D;&#x3D; &#x27;deceased&#x27;) {
                                        &lt;div&gt;&lt;b&gt;Date of death&lt;/b&gt;: {{form.value.general!.dateOfDeath | date:&#x27;MMM, y&#x27;}}&lt;/div&gt;
                                        &lt;div&gt;&lt;b&gt;Cause of death&lt;/b&gt;: {{form.value.general!.causeOfDeath?.display ?? &#x27;N/S&#x27;}}&lt;/div&gt;
                                    }
                                    @if (form.value.general!.endOfRecords &#x3D;&#x3D; &#x27;unknown&#x27;) {
                                        &lt;div&gt;&lt;b&gt;End of records&lt;/b&gt;: {{form.value.general!.endOfRecords | date:&#x27;MMM, y&#x27;}}&lt;/div&gt;
                                    }
                                    &lt;div&gt;&lt;b&gt;Consent&lt;/b&gt;: {{form.value.consent!.consentStatus}}&lt;/div&gt;
                                &lt;/div&gt;
                            &lt;/div&gt;
                            &lt;div class&#x3D;&quot;flex py-3 gap-3&quot;&gt;
                                &lt;p-button label&#x3D;&quot;Back&quot; severity&#x3D;&quot;secondary&quot; icon&#x3D;&quot;pi pi-arrow-left&quot; (onClick)&#x3D;&quot;activateCallback(3)&quot; /&gt;
                                &lt;p-button 
                                    type&#x3D;&quot;submit&quot; 
                                    icon&#x3D;&quot;pi pi-verified&quot;
                                    label&#x3D;&quot;Confirm &amp; Save&quot; 
                                    class&#x3D;&quot;flex-grow-1&quot;
                                    [loading]&#x3D;&quot;isSaving()&quot;
                                    [disabled]&#x3D;&quot;form.invalid&quot; /&gt;                            
                            &lt;/div&gt;
                        &lt;/ng-template&gt;
                    &lt;/p-step-panel&gt;
                &lt;/p-step-item&gt;

            &lt;/p-stepper&gt;
        &lt;/div&gt;

    &lt;/form&gt;
&lt;/p-fluid&gt;</code></pre>
    </div>


    <div class="tab-pane fade " id="tree">
        <div id="tree-container"></div>
        <div class="tree-legend">
            <div class="title">
                <b>Legend</b>
            </div>
            <div>
                <div class="color htmlelement"></div><span>Html element</span>
            </div>
            <div>
                <div class="color component"></div><span>Component</span>
            </div>
            <div>
                <div class="color directive"></div><span>Html element with directive</span>
            </div>
        </div>
    </div>

    
</div>

<script src="../js/libs/vis.min.js"></script>
<script src="../js/libs/htmlparser.js"></script>
<script src="../js/libs/deep-iterator.js"></script>
<script>
        var COMPONENT_TEMPLATE = '<div><p-fluid>    <form  [formGroup]="form" (ngSubmit)="submitFormData()" style="min-width: 35vw;" >        <div class="p-1">            <p-stepper [value]="1" [linear]="true">                <p-step-item [value]="1">                    <p-step>Clinical Identification</p-step>                    <p-step-panel>                        <ng-template #content let-activateCallback="activateCallback">                            <div class="flex">                                <div [inlineSVG]="centerIllustration" class="onconova-svg-illustration mr-3 h-15rem"></div>                                <div class="flex flex-column my-auto" formGroupName="identification">                                    <div class="field">                                        <label class="form-label required">Clinical center</label>                                        <p-autocomplete                                             placeholder="Enter a center"                                             formControlName="clinicalCenter"                                              [suggestions]="clinicalCenters.value() || []"                                             (completeMethod)="clinicalCenterQuery.set($event.query)" />                                        <div><small class="text-muted">The name of the center where the patient\'s record originated from.</small></div>                                    </div>                                                                <div class="field">                                        <label class="form-label required">Clinical identifier</label>                                        <input pInputText placeholder="Enter a value" formControlName="clinicalIdentifier" />                                        <div><small class="text-muted">The clinical identifier unique for a given patient at a clinical center. Usually the clinical information system\'s identifier.</small></div>                                    </div>                                </div>                            </div>                            <div class="py-3">                                <p-button label="Next" (onClick)="activateCallback(2)" [disabled]="!form.get(\'identification\')?.valid"/>                            </div>                        </ng-template>                    </p-step-panel>                </p-step-item>                <p-step-item [value]="2">                    <p-step>Patient Information</p-step>                    <p-step-panel>                        <ng-template #content let-activateCallback="activateCallback">                            <div class="flex flex-column" formGroupName="general">                                <div class="field flex flex-column">                                    <label class="form-label required">Gender</label>                                    <onconova-concept-selector                                         terminology="AdministrativeGender"                                        widget="selectbutton"                                        formControlName="gender"/>                                </div>                                                        <div class="field">                                    <label for="date-of-birth" class="form-label required">Date of Birth</label>                                    <onconova-datepicker                                         formControlName="dateOfBirth"                                        view="month"                                         dateFormat="mm/yy"                                         placeholder="MM/YYYY"                                     />                                    <small id="dateOfBirth-help">For de-identification, only the month and year are used.  </small>                                </div>                                                        <div class="field flex flex-column">                                    <label class="form-label required">Vital Status</label>                                    <p-selectbutton [options]="vitalStatusOptions" formControlName="vitalStatus" optionLabel="label" optionValue="value" />                                </div>                                                                @if (form.value.general!.vitalStatus == \'deceased\') {                                    <div class="field">                                        <label class="form-label required">Date of Death</label>                                        <onconova-datepicker                                             formControlName="dateOfDeath"                                            view="month"                                             dateFormat="mm/yy"                                             placeholder="MM/YYYY"                                             />                                    </div>                                                                <div class="field">                                        <label class="form-label">Cause of death</label>                                        <onconova-concept-selector                                             terminology="CauseOfDeath"                                            [showSynonyms]="false"                                            formControlName="causeOfDeath"/>                                    </div>                                }                                @if (form.value.general!.vitalStatus == \'unknown\') {                                    <div class="field">                                        <label class="form-label required">End of records</label>                                        <onconova-datepicker                                             formControlName="endOfRecords"                                            view="month"                                             dateFormat="mm/yy"                                             placeholder="MM/YYYY"                                             />                                        <div><small class="text-muted">The month and year of the last known data entry or document available for the patient.</small></div>                                    </div>                                }                            </div>                            <div class="flex py-3 gap-3">                                <p-button label="Back" severity="secondary" icon="pi pi-arrow-left" (onClick)="activateCallback(1)" />                                <p-button label="Next" (onClick)="activateCallback(3)" [disabled]="!form.get(\'general\')?.valid" class="flex-grow-1"/>                            </div>                        </ng-template>                    </p-step-panel>                </p-step-item>                <p-step-item [value]="3">                    <p-step>Consent</p-step>                    <p-step-panel>                        <ng-template #content let-activateCallback="activateCallback">                            <div formGroupName="consent">                                <div class="flex">                                    <div [inlineSVG]="consentIllustration" class="onconova-svg-illustration mr-3 h-15rem"></div>                                    <div class="flex flex-column my-auto">                                        <p>Have you checked for consent/permission?</p>                                        <small class="text-muted">                                        A patient\'s case may only be included in Onconova if the patient has provided explicit informed consent                                         (e.g., through a signed general consent) or if the managing researcher has obtained authorization from the appropriate regulatory                                         or ethics governance bodies to access and utilize the data in accordance with applicable legal and ethical standards.</small>                                    </div>                                </div>                                <div class="field flex flex-column">                                    <label class="form-label required">Consent Status</label>                                    <p-selectbutton [options]="consentStatusOptions" formControlName="consentStatus" optionLabel="label" optionValue="value" />                                </div>                                <div class="field flex mt-4" >                                    <p-toggleswitch formControlName="consentCheck" />                                    <label class="form-label ml-2 my-auto required">                                        I hereby confirm that I am accurately recording this patients consent status for the use of their clinical data in research,                                         and that I am doing so in compliance with all applicable laws, regulations, and institutional policies.</label>                                </div>                                <div class="flex py-3 gap-3">                                    <p-button label="Back" severity="secondary" icon="pi pi-arrow-left" (onClick)="activateCallback(2)" />                                    <p-button label="Next" (onClick)="activateCallback(4)" [disabled]="!form.value.consent!.consentCheck" class="flex-grow-1"/>                                </div>                            </div>                        </ng-template>                    </p-step-panel>                </p-step-item>                <p-step-item [value]="4">                    <p-step>Submit</p-step>                    <p-step-panel>                        <ng-template #content let-activateCallback="activateCallback">                            <h4>Almost done!</h4>                            <div class="">                                Please check that the patient\'s information is correct:                                <div class="flex flex-column gap-2 ml-3 mt-3 pl-2" style="border-left: solid 4px var(--p-primary-500);">                                    <div><b>Clinical Center:</b> {{form.value.identification!.clinicalCenter}}</div>                                    <div><b>Clinical Identifier:</b> {{form.value.identification!.clinicalIdentifier}}</div>                                    <div><b>Gender</b>: {{form.value.general!.gender?.display}}</div>                                    <div><b>Date of birth</b>: {{form.value.general!.dateOfBirth | date:\'MMM, y\'}}</div>                                    <div><b>Vital status</b>: {{form.value.general!.vitalStatus}}</div>                                    @if (form.value.general!.vitalStatus == \'deceased\') {                                        <div><b>Date of death</b>: {{form.value.general!.dateOfDeath | date:\'MMM, y\'}}</div>                                        <div><b>Cause of death</b>: {{form.value.general!.causeOfDeath?.display ?? \'N/S\'}}</div>                                    }                                    @if (form.value.general!.endOfRecords == \'unknown\') {                                        <div><b>End of records</b>: {{form.value.general!.endOfRecords | date:\'MMM, y\'}}</div>                                    }                                    <div><b>Consent</b>: {{form.value.consent!.consentStatus}}</div>                                </div>                            </div>                            <div class="flex py-3 gap-3">                                <p-button label="Back" severity="secondary" icon="pi pi-arrow-left" (onClick)="activateCallback(3)" />                                <p-button                                     type="submit"                                     icon="pi pi-verified"                                    label="Confirm & Save"                                     class="flex-grow-1"                                    [loading]="isSaving()"                                    [disabled]="form.invalid" />                                                        </div>                        </ng-template>                    </p-step-panel>                </p-step-item>            </p-stepper>        </div>    </form></p-fluid></div>'
    var COMPONENTS = [{'name': 'AbstractFormBase', 'selector': ''},{'name': 'AdverseEventFormComponent', 'selector': 'adverse-event-form'},{'name': 'AppComponent', 'selector': 'onconova-root'},{'name': 'AppFooterComponent', 'selector': 'onconova-footer'},{'name': 'AppLayoutComponent', 'selector': 'onconova-layout'},{'name': 'AppSidebarMenuComponent', 'selector': 'onconova-sidebar-menu'},{'name': 'AppTopBarComponent', 'selector': 'onconova-topbar'},{'name': 'AuthCallbackComponent', 'selector': 'app-auth-callback'},{'name': 'AuthLayoutComponent', 'selector': 'onconova-auth-layout'},{'name': 'BoxPlotComponent', 'selector': 'onconova-box-plot'},{'name': 'CancerIconComponent', 'selector': 'onconova-cancer-icon'},{'name': 'CaseImporterBundleViewerComponent', 'selector': 'onconova-case-importer-bundle-viewer'},{'name': 'CaseImporterComponent', 'selector': 'onconova-case-importer'},{'name': 'CaseManagerComponent', 'selector': 'onconova-case-manager'},{'name': 'CaseManagerDrawerComponent', 'selector': 'onconova-case-manager-drawer'},{'name': 'CaseManagerPanelComponent', 'selector': 'onconova-case-manager-panel'},{'name': 'CaseManagerPanelTimelineComponent', 'selector': 'onconova-case-manager-panel-timeline'},{'name': 'CaseSearchComponent', 'selector': ''},{'name': 'CaseSearchItemCardComponent', 'selector': 'onconova-case-search-item,[onconova-case-search-item]'},{'name': 'CodedConceptTreeComponent', 'selector': 'onconova-coded-concept-tree'},{'name': 'CohortBuilderComponent', 'selector': 'onconova-cohort-manager'},{'name': 'CohortContributorsComponent', 'selector': 'onconova-cohort-contributors'},{'name': 'CohortFormComponent', 'selector': 'cohort-form'},{'name': 'CohortGraphsComponent', 'selector': 'onconova-cohort-graphs'},{'name': 'CohortGraphsContextMenu', 'selector': 'onconova-cohort-graph-context-menu'},{'name': 'CohortQueryBuilderComponent', 'selector': 'onconova-cohort-query-builder'},{'name': 'CohortSearchComponent', 'selector': ''},{'name': 'CohortSearchItemComponent', 'selector': 'onconova-cohort-search-item, [onconova-cohort-search-item]'},{'name': 'CohortTraitPanel', 'selector': 'onconova-cohort-trait'},{'name': 'ComorbiditiesAssessmentFormComponent', 'selector': 'comorbidities-form'},{'name': 'ConceptSelectorComponent', 'selector': 'onconova-concept-selector'},{'name': 'ConsentNoticeModalComponent', 'selector': 'onconova-consent-modal'},{'name': 'DashboardComponent', 'selector': 'onconova-dashboard'},{'name': 'DataCompletionStatsComponent', 'selector': 'onconova-data-completion-stats'},{'name': 'DatasetComposerComponent', 'selector': 'onconova-dataset-composer'},{'name': 'DataSummaryComponent', 'selector': 'onconova-data-summary'},{'name': 'DataSummaryCounterComponent', 'selector': 'onconova-data-summary-counter'},{'name': 'DatePickerComponent', 'selector': 'onconova-datepicker'},{'name': 'DisclaimerBannerComponent', 'selector': 'onconova-disclaimer-banner'},{'name': 'DistributionGraphComponent', 'selector': 'onconova-distribution-graph'},{'name': 'DoughnutGraphComponent', 'selector': 'onconova-doughnut-graph'},{'name': 'DrawerDataPropertiesComponent', 'selector': 'onconova-drawer-properties'},{'name': 'ErrorComponent', 'selector': 'onconova-error'},{'name': 'ExportConfirmDialogComponent', 'selector': 'onconova-export-confirm-dialog'},{'name': 'FamilyHistoryFormComponent', 'selector': 'family-history-form'},{'name': 'FormControlErrorComponent', 'selector': 'onconova-form-control-error'},{'name': 'GenomicSignatureFormComponent', 'selector': 'genomic-signature-form'},{'name': 'GenomicVariantFormComponent', 'selector': 'genomic-variant-form'},{'name': 'IdenticonComponent', 'selector': 'onconova-identicon'},{'name': 'KapplerMeierCurveComponent', 'selector': 'onconova-kappler-meier-curve'},{'name': 'LifestyleFormComponent', 'selector': 'lifestyle-form'},{'name': 'LoginComponent', 'selector': 'onconova-login'},{'name': 'MeasureInputComponent', 'selector': 'onconova-measure-input'},{'name': 'ModalFormHeaderComponent', 'selector': 'onconova-modal-form-header'},{'name': 'MultiReferenceSelectComponent', 'selector': 'onconova-multi-reference-select'},{'name': 'NeoplasticEntityFormComponent', 'selector': 'neoplastic-entity-form'},{'name': 'NestedTableComponent', 'selector': 'onconova-nested-table'},{'name': 'OncoplotComponent', 'selector': 'onconova-oncoplot'},{'name': 'PasswordResetFormComponent', 'selector': 'onconova-password-reset-dialog'},{'name': 'PatientFormComponent', 'selector': 'patient-form'},{'name': 'PerformanceStatusFormComponent', 'selector': 'performance-status-form'},{'name': 'PopoverFilterButtonComponent', 'selector': 'onconova-popover-filter-button'},{'name': 'PrimaryEntitiesTableComponent', 'selector': 'onconova-primary-entities-table'},{'name': 'ProjectFormComponent', 'selector': 'project-form'},{'name': 'ProjectManagementComponent', 'selector': 'onconova-project-management'},{'name': 'ProjectSearchComponent', 'selector': 'onconova-project-search'},{'name': 'ProjectSearchItemComponent', 'selector': 'onconova-project-search-item, [onconova-project-search-item]'},{'name': 'ProviderSignupComponent', 'selector': 'app-signup'},{'name': 'RadioSelectComponent', 'selector': 'onconova-radio-select'},{'name': 'RadiotherapyFormComponent', 'selector': 'radiotherapy-form'},{'name': 'RandomPaperComponent', 'selector': 'onconova-random-paper'},{'name': 'RangeInputComponent', 'selector': 'onconova-range-input'},{'name': 'RiskAssessmentFormComponent', 'selector': 'risk-assessment-form'},{'name': 'SettingsDialogComponent', 'selector': 'onconova-settings-dialog'},{'name': 'StagingFormComponent', 'selector': 'staging-form'},{'name': 'SurgeryFormComponent', 'selector': 'surgery-form'},{'name': 'SystemicTherapyFormComponent', 'selector': 'systemic-therapy-form'},{'name': 'TreatmentResponseFormComponent', 'selector': 'treatment-response-form'},{'name': 'TumorBoardFormComponent', 'selector': 'tumor-board-form'},{'name': 'TumorMarkerFormComponent', 'selector': 'tumor-marker-form'},{'name': 'UserBadgeComponent', 'selector': 'onconova-user-badge'},{'name': 'UserDetailsComponent', 'selector': 'onconova-user-details'},{'name': 'UserFormComponent', 'selector': 'onconova-user-form'},{'name': 'UserSelectorComponent', 'selector': 'onconova-user-selector'},{'name': 'UsersManagementCompnent', 'selector': 'onconova-users-management'},{'name': 'VitalsFormComponent', 'selector': 'vitals-form'}];
    var DIRECTIVES = [{'name': 'DateMaskDirective', 'selector': '[dateMask]'}];
    var ACTUAL_COMPONENT = {'name': 'PatientFormComponent'};
</script>
<script src="../js/tree.js"></script>

















                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'component';
            var COMPODOC_CURRENT_PAGE_URL = 'PatientFormComponent.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script>
               $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               checkToggle(darkModeState);
               if ($darkModeToggleSwitchers.length > 0) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].addEventListener('change', function (event) {
                              darkModeState = !darkModeState;
                              toggleDarkMode(darkModeState);
                         });
                    }
               }
          </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
